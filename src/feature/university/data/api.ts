import { type University } from "./schema";

export const mockUniversities = [
  {
    id: "1",
    name: "Harvard University",
    courseName: "Law, Medicine, Business",
    universityType: "Private",
    beginsAt: "September 2025",
  },
  {
    id: "2",
    name: "Stanford University",
    courseName: "Engineering, Computer Science",
    universityType: "Private",
    beginsAt: "September 2025",
  },
  {
    id: "3",
    name: "Massachusetts Institute of Technology",
    courseName: "Engineering, Technology",
    universityType: "Private",
    beginsAt: "October 2025",
  },
  {
    id: "4",
    name: "University of California, Berkeley",
    courseName: "Social Science, Engineering",
    universityType: "Public",
    beginsAt: "August 2025",
  },
  {
    id: "5",
    name: "University of Oxford",
    courseName: "Philosophy, Literature",
    universityType: "Public",
    beginsAt: "October 2025",
  },
  {
    id: "6",
    name: "University of Cambridge",
    courseName: "Engineering, Natural Sciences",
    universityType: "Public",
    beginsAt: "October 2025",
  },
  {
    id: "7",
    name: "Princeton University",
    courseName: "Mathematics, Physics",
    universityType: "Private",
    beginsAt: "September 2025",
  },
  {
    id: "8",
    name: "Yale University",
    courseName: "Law, Arts",
    universityType: "Private",
    beginsAt: "September 2025",
  },
  {
    id: "9",
    name: "Columbia University",
    courseName: "Journalism, Business",
    universityType: "Private",
    beginsAt: "August 2025",
  },
  {
    id: "10",
    name: "California Institute of Technology",
    courseName: "Engineering, Physics",
    universityType: "Private",
    beginsAt: "October 2025",
  },
  {
    id: "11",
    name: "University of Chicago",
    courseName: "Economics, Law",
    universityType: "Private",
    beginsAt: "September 2025",
  },
  {
    id: "12",
    name: "University of Pennsylvania",
    courseName: "Business, Medicine",
    universityType: "Private",
    beginsAt: "August 2025",
  },
  {
    id: "13",
    name: "Cornell University",
    courseName: "Engineering, Agriculture",
    universityType: "Private",
    beginsAt: "September 2025",
  },
  {
    id: "14",
    name: "Johns Hopkins University",
    courseName: "Medicine, Public Health",
    universityType: "Private",
    beginsAt: "September 2025",
  },
  {
    id: "15",
    name: "Northwestern University",
    courseName: "Law, Communications",
    universityType: "Private",
    beginsAt: "October 2025",
  },
  {
    id: "16",
    name: "University of Michigan",
    courseName: "Engineering, Business",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "17",
    name: "Duke University",
    courseName: "Law, Medicine",
    universityType: "Private",
    beginsAt: "August 2025",
  },
  {
    id: "18",
    name: "University of California, Los Angeles",
    courseName: "Film, Engineering",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "19",
    name: "New York University",
    courseName: "Arts, Business",
    universityType: "Private",
    beginsAt: "September 2025",
  },
  {
    id: "20",
    name: "University of Washington",
    courseName: "Computer Science, Medicine",
    universityType: "Public",
    beginsAt: "October 2025",
  },
  {
    id: "21",
    name: "University of Toronto",
    courseName: "Law, Business",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "22",
    name: "McGill University",
    courseName: "Medicine, Engineering",
    universityType: "Public",
    beginsAt: "August 2025",
  },
  {
    id: "23",
    name: "University of Edinburgh",
    courseName: "Philosophy, Literature",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "24",
    name: "University of Manchester",
    courseName: "Engineering, Social Science",
    universityType: "Public",
    beginsAt: "October 2025",
  },
  {
    id: "25",
    name: "University of Melbourne",
    courseName: "Medicine, Law",
    universityType: "Public",
    beginsAt: "February 2026",
  },
  {
    id: "26",
    name: "National University of Singapore",
    courseName: "Business, Engineering",
    universityType: "Public",
    beginsAt: "August 2025",
  },
  {
    id: "27",
    name: "Seoul National University",
    courseName: "Engineering, Natural Sciences",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "28",
    name: "University of Sydney",
    courseName: "Medicine, Arts",
    universityType: "Public",
    beginsAt: "February 2026",
  },
  {
    id: "29",
    name: "University of Hong Kong",
    courseName: "Law, Business",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "30",
    name: "Peking University",
    courseName: "Engineering, Social Science",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "31",
    name: "Tsinghua University",
    courseName: "Engineering, Technology",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "32",
    name: "Kyoto University",
    courseName: "Medicine, Natural Sciences",
    universityType: "Public",
    beginsAt: "October 2025",
  },
  {
    id: "33",
    name: "University of Tokyo",
    courseName: "Engineering, Technology",
    universityType: "Public",
    beginsAt: "October 2025",
  },
  {
    id: "34",
    name: "University of British Columbia",
    courseName: "Environmental Science, Engineering",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "35",
    name: "University of Amsterdam",
    courseName: "Social Science, Law",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "36",
    name: "Ludwig Maximilian University of Munich",
    courseName: "Medicine, Science",
    universityType: "Public",
    beginsAt: "October 2025",
  },
  {
    id: "37",
    name: "University of Copenhagen",
    courseName: "Law, Humanities",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "38",
    name: "University of Helsinki",
    courseName: "Natural Sciences, Medicine",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "39",
    name: "University of Zurich",
    courseName: "Business, Medicine",
    universityType: "Public",
    beginsAt: "October 2025",
  },
  {
    id: "40",
    name: "University of Oslo",
    courseName: "Social Sciences, Law",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "41",
    name: "University of Glasgow",
    courseName: "Engineering, Business",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "42",
    name: "University of Warwick",
    courseName: "Economics, Law",
    universityType: "Public",
    beginsAt: "October 2025",
  },
  {
    id: "43",
    name: "University of Leeds",
    courseName: "Arts, Social Sciences",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "44",
    name: "University of Southampton",
    courseName: "Engineering, Medicine",
    universityType: "Public",
    beginsAt: "October 2025",
  },
  {
    id: "45",
    name: "University of Sheffield",
    courseName: "Business, Technology",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "46",
    name: "University of Nottingham",
    courseName: "Law, Social Sciences",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "47",
    name: "University of Exeter",
    courseName: "Humanities, Environmental Science",
    universityType: "Public",
    beginsAt: "October 2025",
  },
  {
    id: "48",
    name: "University of Bath",
    courseName: "Engineering, Management",
    universityType: "Public",
    beginsAt: "September 2025",
  },
  {
    id: "49",
    name: "University of York",
    courseName: "Social Science, Law",
    universityType: "Public",
    beginsAt: "October 2025",
  },
  {
    id: "50",
    name: "University of St Andrews",
    courseName: "Philosophy, Theology",
    universityType: "Public",
    beginsAt: "September 2025",
  },
] as const;

// pagination + filters
export async function fetchUniversities({
  pageParam = 1,
  pageSize = 10,
  filters = {},
}: {
  pageParam?: number;
  pageSize?: number;
  filters?: {
    search?: string;
    courseName?: string;
    universityType?: string;
    beginsAt?: string;
  };
}): Promise<University[]> {
  // Simulate filtering + pagination on mock data
  const all = mockUniversities; // Replace with real API if needed

  let filtered = [...all];
  if (filters.search) {
    filtered = filtered.filter(
      (uni) =>
        uni.name.toLowerCase().includes(filters.search?.toLowerCase() ?? "") ||
        uni.courseName
          .toLowerCase()
          .includes(filters.search?.toLowerCase() ?? "")
    );
  }

  if (filters.courseName && filters.courseName !== "All") {
    filtered = filtered.filter((uni) =>
      uni.courseName
        .toLowerCase()
        .includes(filters.courseName?.toLowerCase() ?? "")
    );
  }

  if (filters.universityType && filters.universityType !== "All") {
    filtered = filtered.filter(
      (uni) => uni.universityType === filters.universityType
    );
  }

  if (filters.beginsAt) {
    filtered = filtered.filter((uni) =>
      uni.beginsAt.includes(filters.beginsAt ?? "")
    );
  }

  const start = (pageParam - 1) * pageSize;
  const end = start + pageSize;

  return filtered.slice(start, end);
}

export async function fetchUniversityById(universityId: string) {
  return mockUniversities.find((uni) => uni.id === universityId);
}
